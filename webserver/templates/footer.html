<footer>
{% if request.endpoint != "index" %}
    {% include "client_footer.html" %}
    Hub IP: <span id="time-hub" class="time-hub">{{headerData.systemIPAddress}}</span><br />
    SD Card: {{headerData.hubSDSpace}}<br />
    Hub Time: <span id="time-hub" class="time-hub">{{headerData.hubDateTime}}</span><br />
    Computer Time: <span id="footer-time-computer" class="time-computer"></span><br />
    GUI Version: <span class="gui-version">{{headerData.guiVersion}}</span>, 
    Hardware Version: <span class="gui-version">{{headerData.hardwareVersion}}</span>, 
    Tools Version: <span class="gui-version">{{headerData.toolsVersion}}</span> <br />
      
    <a href="/my_actions" target="_blank">Action History</a>
{% endif %}
</footer>

<!-- <script src="/scute/scute.js"></script> put this back later.. -->
<script src="/static/scute.js"></script>
<script>

    let localDateTime = formatDateTime(new Date());
    
    let localTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

    let thisEndpoint = '{{request.endpoint}}'
    // CLOCK UPDATE: forward this back to specific page.  
    if (thisEndpoint === 'script'){ 
        thisEndpoint = 'scripts'
    }
    if (thisEndpoint === 'view_log'){ 
        thisEndpoint = 'list'
    }

    if (localDateTime != '{{headerData.hubDateTime}}') {
        document.getElementById("clockWarning").innerHTML = "<form id='syncClockForm' action='/sync_clock'> \
                    <input type='hidden' name='clock_sync' value='" + localDateTime + "' /> \
                    <input type='hidden' name='passTo' value='" + thisEndpoint + "' /> \
                    <a class='warningButton noUnderline' href='#' onclick=\"document.getElementById('syncClockForm').submit()\" \
                    title='Sync Hub Time to Computer Time?'>Time Mismatch</a></form>";
    }

    document.getElementById("time-computer").innerHTML = localTimezone + " " + localDateTime;

    if (document.getElementById("footer-time-computer")) {
        document.getElementById("footer-time-computer").innerHTML = localTimezone + " " + localDateTime;
    }


</script>